---
title: "Choosing harmonies for visualizing probability distributions"
type: "contributed"
date: <font size="5"> NUMBATS <br> June 15, 2020
bgimg: "images/bg1.jpg"
output:
  xaringan::moon_reader:
    after_body: ["libs/collapseoutput.js"]
    css:
      - ninjutsu 
      - "assets/animate.css"
      - "assets/monash-logo.css"
      - "assets/monash-brand.css"
      - "assets/monash-fonts.css"
      - "assets/styles.css" # small improvements
      - "assets/custom.css" # add your own CSS here!
      - "timeline.css"
    # [ "libs/myremark.css", "xaringan-themer.css" , "libs/font-awesome/css/fontawesome-all.css"]
    self_contained: false
    nature:
      ratio: 16:9
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup1, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message=FALSE, warning=FALSE, cache=TRUE,
  dev.args=list(bg=grey(0.9), pointsize=11))
knitr::read_chunk('R/main.R')      
```

.animated.bounce[
<img src="images/gravitas_sticker.png" height=280px>
]

## Visualizing probability distributions across bivariate cyclic temporal granularities

---

# Cyclic time granularities

Explore periodicities

.pull-left[
Hierarchy
<table style="border-collapse:collapse;border-spacing:0" class="tg"><thead><tr><th style="border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;font-weight:normal;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">half-hour</th></tr></thead><tbody><tr><td style="border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">hour</td></tr><tr><td style="border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">day</td></tr><tr><td style="border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">week</td></tr><tr><td style="border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">month</td></tr><tr><td style="border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">semester</td></tr></tbody></table>
]

.pull-right[

- single-order-up 
<br> .smaller[e.g. hour-of-day, day-of-month]
- mutliple-order-up
<br> .smaller[e.g. hour-of-week, day-of-semester]
]
---
class:center, top

# Data structure and Graphical mapping

<img src="images/data_structure_new.png", height = "400px">

.footnote[
.smaller[
.smaller[
Wang, Earo, Dianne Cook, and Rob J. Hyndman. 2019.<br> “A New Tidy Data Structure to Support Exploration and Modeling of Temporal Data.”]
]
]
---


# gravitas (What gravitas does)

 * Computation of cyclic granularities
 * Data structure 
   * tsibble data structure
   * harmonies and clashes
 * Mapping data structure to visualization
---

# Choosing harmonies based on the Shannon Entropy 

 * Give four graphs to show what you mean?
 * Ask them to rank these four graphs? Given a choice which ones you would want to see?
---

## Main idea - MMPD

```{r question}
```

---
 * Gestalt theory
 * if pairwise dissimilarity between distributions is more, graph is more interesting
 * Median Maximum pairwise distance

---

## Normalization

 
 * Maximum is more if number of levels is more
 * Distribution of maximum
 * norming constant depend on underlying distribution of distances
 * Median goes at the rate of log(n) as n goes to infinity
---

## Choosing threshold

---

## Will MMPD give the uniform best harmory in all situations? When will fail/succeed?

---
## Examples
